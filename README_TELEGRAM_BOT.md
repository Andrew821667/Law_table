# ü§ñ Law Table Telegram Bot

Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É–¥–µ–±–Ω—ã–º–∏ –¥–µ–ª–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Google Sheets.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞—Å–µ–¥–∞–Ω–∏–π
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ä–æ—á–Ω—ã—Ö –¥–µ–ª–∞—Ö
- üìä –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏–∑ Google Sheets
- üöÄ –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–µ–ø–ª–æ—è

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel (Serverless)
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã—Ö –±–æ—Ç–æ–≤ —Å –Ω–µ–±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π

üìÑ **[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Vercel](vercel.json)**

### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloudflare Tunnel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: –±—ã—Å—Ç—Ä–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ/VPS –¥–µ–ø–ª–æ—è –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS

‚ö° **[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Cloudflare Tunnel](CLOUDFLARE_TUNNEL.md)** - 5 –º–∏–Ω—É—Ç!

### –í–∞—Ä–∏–∞–Ω—Ç 3: VPS —Å Express —Å–µ—Ä–≤–µ—Ä–æ–º
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: production –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º

üîß **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `server.js` + nginx/systemd**

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
- Google Sheets —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –¥–µ–ª–∞—Ö

## üõ† –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Cloudflare Tunnel)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm install
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
cp .env.example .env
nano .env  # –î–æ–±–∞–≤—å—Ç–µ TELEGRAM_BOT_TOKEN
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
npm start
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Cloudflare Tunnel:**
–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ **[CLOUDFLARE_TUNNEL.md](CLOUDFLARE_TUNNEL.md)**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Law_table/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ bot.js              # –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ health.js           # Health check endpoint
‚îú‚îÄ‚îÄ server.js               # Express —Å–µ—Ä–≤–µ—Ä –¥–ª—è VPS
‚îú‚îÄ‚îÄ cloudflared-config.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cloudflare Tunnel
‚îú‚îÄ‚îÄ set-webhook.sh          # –°–∫—Ä–∏–ø—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ webhook
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ vercel.json             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îî‚îÄ‚îÄ package.json            # npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
TELEGRAM_BOT_TOKEN=your_bot_token_here

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
GOOGLE_API_KEY=your_google_api_key  # –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
SHEET_NAME=–°—É–¥–µ–±–Ω—ã–µ –¥–µ–ª–∞            # –ù–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞
PORT=3000                            # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
```

### Google Sheets

–¢–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ (A-Q):
- A: –ù–æ–º–µ—Ä –¥–µ–ª–∞
- B: –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- C: –¢–∏–ø –¥–µ–ª–∞
- D: –°—Ç–∞—Ç—É—Å
- E: –°—É–¥
- F: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- G: –ò—Å—Ç–µ—Ü
- H: –û—Ç–≤–µ—Ç—á–∏–∫
- I: –°—É–º–º–∞ –∏—Å–∫–∞
- J: –î–∞—Ç–∞ –ø–æ–¥–∞—á–∏
- K: –î–∞—Ç–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- L: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–µ–ª–∞
- M: –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π —é—Ä–∏—Å—Ç
- N: –û–ø–∏—Å–∞–Ω–∏–µ
- O: –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- P: –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **Q: –î–∞—Ç–∞ –∑–∞—Å–µ–¥–∞–Ω–∏—è** ‚¨ÖÔ∏è –í–∞–∂–Ω–æ!

## üîç API Endpoints

- `POST /webhook` - Webhook –¥–ª—è Telegram
- `GET /health` - Health check

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook
```bash
curl "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"
```

### –£–¥–∞–ª–∏—Ç—å webhook
```bash
curl "https://api.telegram.org/bot<TOKEN>/deleteWebhook"
```

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook
```bash
./set-webhook.sh
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Google Sheets API](https://developers.google.com/sheets/api)
- [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/)
- [Vercel Serverless](https://vercel.com/docs/concepts/functions/serverless-functions)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ Google Sheets –¥–æ—Å—Ç—É–ø–Ω–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–ù–∞—á–Ω–∏—Ç–µ —Å [CLOUDFLARE_TUNNEL.md](CLOUDFLARE_TUNNEL.md) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞!** üöÄ
